<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PulsBot | BUPulse</title>
  <link rel="stylesheet" href="app.css">
  <style>
    /* -----------------------------------------------
       CHATBOT PAGE STYLES

       The chat takes up the full main-wrapper height.
       Layout (flex column):
         [chat-header-bar]
         [chat-messages]   ‚Üê scrollable, flex: 1
         [chat-input-area]
    ----------------------------------------------- */

    /* Override page-content padding for the chat page
       so the chat fills edge to edge */
    .main-wrapper {
      height: 100vh; /* lock to viewport */
      overflow: hidden;
    }

    /* Chat area fills the remaining space below topbar */
    .chat-area {
      flex: 1;
      display: flex;
      flex-direction: column;
      overflow: hidden; /* prevents outer scroll */
    }

    /* ---- Chat header bar ---- */
    .chat-header-bar {
      display: flex;
      flex-direction: row;
      align-items: center;
      gap: 14px;
      padding: 14px 24px;
      background-color: var(--white);
      border-bottom: 1px solid var(--gray-200);
    }

    .bot-avatar {
      width: 42px;
      height: 42px;
      border-radius: 10px;
      background-color: var(--green-700);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      flex-shrink: 0;
    }

    .bot-name { font-weight: 700; font-size: 0.95rem; }

    .bot-status {
      font-size: 0.74rem;
      color: var(--green-600);
      display: flex;
      flex-direction: row;
      align-items: center;
      gap: 5px;
    }

    .status-dot {
      width: 7px;
      height: 7px;
      border-radius: 50%;
      background-color: var(--green-400);
    }

    /* Capability badges pushed to the right */
    .bot-caps {
      margin-left: auto;
      display: flex;
      flex-direction: row;
      gap: 6px;
    }

    /* ---- Messages scroll area ---- */
    .chat-messages {
      flex: 1;       /* fills remaining height */
      overflow-y: auto;
      padding: 24px;
      display: flex;
      flex-direction: column;
      gap: 18px;
    }

    /* Welcome card centered at the top */
    .chat-welcome {
      background-color: var(--green-800);
      border-radius: 14px;
      padding: 24px 28px;
      color: white;
      text-align: center;
      max-width: 520px;
      align-self: center; /* center horizontally */

      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
    }

    .chat-welcome .w-icon { font-size: 40px; }

    .chat-welcome h3 {
      font-family: var(--font-display);
      font-size: 1.3rem;
    }

    .chat-welcome p {
      color: rgba(255, 255, 255, 0.6);
      font-size: 0.84rem;
      line-height: 1.65;
    }

    /* Suggestion chips inside welcome card */
    .suggestion-chips {
      display: flex;
      flex-direction: row;
      flex-wrap: wrap;
      gap: 8px;
      justify-content: center;
    }

    .suggest-chip {
      background-color: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.18);
      border-radius: 99px;
      padding: 6px 14px;
      font-size: 0.78rem;
      color: rgba(255, 255, 255, 0.85);
      cursor: pointer;
      transition: background 0.2s;
    }

    .suggest-chip:hover { background-color: rgba(255, 255, 255, 0.2); }

    /* ---- Message rows ---- */
    /* Bot messages: avatar left, bubble right */
    .msg-row {
      display: flex;
      flex-direction: row;
      gap: 10px;
      max-width: 640px;
    }

    /* User messages: reverse the row so bubble is on the right */
    .msg-row.user {
      flex-direction: row-reverse;
      align-self: flex-end;
    }

    .msg-avatar {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      flex-shrink: 0;
      margin-top: 4px;
    }

    .msg-avatar.bot-av  { background-color: var(--green-700); }
    .msg-avatar.user-av { background-color: var(--amber-400); font-size: 0.72rem; font-weight: 700; }

    /* Speech bubble */
    .bubble {
      padding: 11px 15px;
      border-radius: 12px;
      font-size: 0.88rem;
      line-height: 1.65;
      max-width: 480px;
    }

    /* Bot bubble: white card look */
    .bubble.bot {
      background-color: var(--white);
      border: 1px solid var(--gray-200);
      color: var(--gray-900);
      border-radius: 4px 12px 12px 12px;
    }

    /* User bubble: green */
    .bubble.user {
      background-color: var(--green-700);
      color: white;
      border-radius: 12px 4px 12px 12px;
    }

    .msg-time {
      display: block;
      font-size: 0.67rem;
      margin-top: 5px;
      opacity: 0.45;
    }

    /* Info table inside bot bubble */
    .info-table {
      margin-top: 10px;
      border: 1px solid var(--green-100);
      border-radius: 8px;
      overflow: hidden;
    }

    .info-row {
      display: flex;
      flex-direction: row;
      justify-content: space-between;
      padding: 7px 12px;
      font-size: 0.82rem;
      border-bottom: 1px solid var(--green-100);
      background-color: var(--green-50);
    }

    .info-row:last-child { border-bottom: none; }
    .info-label { color: var(--gray-500); }
    .info-val   { font-weight: 600; color: var(--green-700); }

    /* ---- Input area at the bottom ---- */
    .chat-input-area {
      padding: 14px 24px 18px;
      background-color: var(--white);
      border-top: 1px solid var(--gray-200);
    }

    /* Input row: textarea + send button side by side */
    .chat-input-row {
      display: flex;
      flex-direction: row;
      align-items: flex-end;
      gap: 10px;
      background-color: var(--gray-100);
      border: 1.5px solid var(--gray-200);
      border-radius: 10px;
      padding: 10px 14px;
      transition: border-color 0.2s;
    }

    .chat-input-row:focus-within {
      border-color: var(--green-600);
      background-color: white;
    }

    .chat-input-row textarea {
      flex: 1;
      border: none;
      outline: none;
      background: transparent;
      font-family: var(--font-body);
      font-size: 0.9rem;
      color: var(--gray-900);
      resize: none;
      min-height: 24px;
      max-height: 110px;
      line-height: 1.5;
    }

    .send-btn {
      width: 34px;
      height: 34px;
      border-radius: 6px;
      background-color: var(--green-700);
      color: white;
      border: none;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 15px;
      flex-shrink: 0;
      transition: background 0.2s;
    }

    .send-btn:hover { background-color: var(--green-800); }

    .input-hint {
      font-size: 0.71rem;
      color: var(--gray-500);
      text-align: center;
      margin-top: 8px;
    }
  </style>
</head>
<body>

  <!-- =====================
       SIDEBAR
  ===================== -->
  <aside class="sidebar">

    <div class="sidebar-brand">
      <div class="brand-icon">üì£</div>
      <span class="brand-name">BUPulse</span>
    </div>

    <p class="sidebar-label">Navigation</p>

    <nav class="sidebar-nav">
      <a href="dashboard.html" class="nav-item">
        <span class="nav-icon">üè†</span>
        Dashboard
      </a>
      <a href="announcement.html" class="nav-item">
        <span class="nav-icon">üì¢</span>
        Announcements
        <span class="nav-badge">3</span>
      </a>
      <a href="chatbot.html" class="nav-item active">
        <span class="nav-icon">üí¨</span>
        Ask PulsBot
      </a>
    </nav>

    <p class="sidebar-label">Account</p>

    <nav class="sidebar-nav">
      <a href="#" class="nav-item">
        <span class="nav-icon">üë§</span>
        Profile
      </a>
      <a href="index.html" class="nav-item">
        <span class="nav-icon">üö™</span>
        Logout
      </a>
    </nav>

    <div class="sidebar-footer">
      <div class="user-card">
        <div class="avatar">JD</div>
        <div>
          <div class="user-name">Juan Dela Cruz</div>
          <div class="user-role">Student ¬∑ Grade 11</div>
        </div>
      </div>
    </div>

  </aside>

  <!-- =====================
       MAIN AREA
  ===================== -->
  <div class="main-wrapper">

    <header class="topbar">
      <span class="topbar-title">PulsBot</span>
      <div class="topbar-actions">
        <button class="icon-btn">üîî<span class="notif-dot"></span></button>
        <div class="topbar-profile">
          <div class="topbar-avatar">JD</div>
          <span class="topbar-name">Juan Dela Cruz</span>
        </div>
      </div>
    </header>

    <!-- Chat fills the remaining height -->
    <div class="chat-area">

      <!-- Bot info bar -->
      <div class="chat-header-bar">
        <div class="bot-avatar">ü§ñ</div>
        <div>
          <div class="bot-name">PulsBot</div>
          <div class="bot-status">
            <span class="status-dot"></span>
            Online ‚Äî Ready to help
          </div>
        </div>
        <div class="bot-caps">
          <span class="badge badge-general">Announcements</span>
          <span class="badge badge-general">Deadlines</span>
          <span class="badge badge-general">School Info</span>
        </div>
      </div>

      <!-- Scrollable messages -->
      <div class="chat-messages" id="chatMessages">

        <!-- Welcome card -->
        <div class="chat-welcome">
          <div class="w-icon">ü§ñ</div>
          <h3>Hi Juan, I'm PulsBot!</h3>
          <p>Your smart school assistant. Ask me about announcements, deadlines, class schedules, or anything about school.</p>
          <div class="suggestion-chips">
            <button class="suggest-chip">What are my upcoming deadlines?</button>
            <button class="suggest-chip">Any urgent announcements?</button>
            <button class="suggest-chip">When is the next exam?</button>
            <button class="suggest-chip">What did I miss?</button>
          </div>
        </div>

        <!-- Bot message -->
        <div class="msg-row">
          <div class="msg-avatar bot-av">ü§ñ</div>
          <div class="bubble bot">
            Hello Juan! There's <strong>1 urgent announcement</strong> and <strong>5 upcoming deadlines</strong> for you today. Your earliest deadline is the <strong>English Essay</strong> due tomorrow. Would you like a full rundown?
            <span class="msg-time">10:24 AM</span>
          </div>
        </div>

        <!-- User message -->
        <div class="msg-row user">
          <div class="msg-avatar user-av">JD</div>
          <div class="bubble user">
            Yes please! Show me all my deadlines.
            <span class="msg-time">10:25 AM</span>
          </div>
        </div>

        <!-- Bot reply with table -->
        <div class="msg-row">
          <div class="msg-avatar bot-av">ü§ñ</div>
          <div class="bubble bot">
            Here are all your upcoming deadlines, Juan:
            <div class="info-table">
              <div class="info-row">
                <span class="info-label">üìù English Essay</span>
                <span class="info-val">Feb 29 ¬∑ Tomorrow</span>
              </div>
              <div class="info-row">
                <span class="info-label">üìê Math Quiz Ch. 6</span>
                <span class="info-val">Mar 3</span>
              </div>
              <div class="info-row">
                <span class="info-label">üî¨ Science Fair Reg.</span>
                <span class="info-val">Mar 5</span>
              </div>
              <div class="info-row">
                <span class="info-label">üìñ Filipino Repleksyon</span>
                <span class="info-val">Mar 10</span>
              </div>
              <div class="info-row">
                <span class="info-label">üß™ Chemistry Lab Report</span>
                <span class="info-val">Mar 14</span>
              </div>
            </div>
            I'd recommend starting with your English Essay ‚Äî it's due <strong>tomorrow!</strong>
            <span class="msg-time">10:25 AM</span>
          </div>
        </div>

      </div><!-- end chat-messages -->

      <!-- Input -->
      <div class="chat-input-area">
        <div class="chat-input-row">
          <textarea id="chatInput" rows="1" placeholder="Ask PulsBot anything about school‚Ä¶"></textarea>
          <button class="send-btn" title="Send">‚û§</button>
        </div>
        <p class="input-hint">PulsBot can answer questions about your announcements, schedule, and school events.</p>
      </div>

    </div><!-- end chat-area -->

  </div><!-- end main-wrapper -->

</body>
</html>
